:root{
  /* JASNY (domy≈õlny) */
  --gap:12px; --radius:12px; --shadow:0 8px 26px rgba(0,0,0,.06);
  --bg:#f6f7fb; --fg:#212; --muted:#666; --card-bg:#fff; --border:#e9e9ef;
  --entry-alt:#fcfcff; --tab-bg:#fff; --badge-bg:#efefef; --secondary-bg:#eee;
  --btn-bg:#222; --btn-fg:#fff;
  --chip-bg:#f3f4f6; --chip-fg:#222; --chip-border:#dcdde2;
}
.theme-dark{
  --bg:#0f1116; --fg:#e5e7eb; --muted:#9aa0a6; --card-bg:#151922; --border:#2a2f3a;
  --entry-alt:#101522; --tab-bg:#151922; --badge-bg:#252b36; --secondary-bg:#2a2f3a;
  --btn-bg:#e5e7eb; --btn-fg:#111;
  --chip-bg:#1e2431; --chip-fg:#e5e7eb; --chip-border:#2f3542;
}
html{-webkit-text-size-adjust:100%}
input,select,textarea{font-size:16px}

/* Layout */
*,*::before,*::after{box-sizing:border-box}
html,body{max-width:100%;overflow-x:hidden}
body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

.wrap{width:min(980px,100%);margin:0 auto;
  padding-left: max(16px, env(safe-area-inset-left));
  padding-right:max(16px, env(safe-area-inset-right));
  padding-top:16px;padding-bottom:16px}

.card{background:var(--card-bg);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:14px;margin:12px 0}
.header{display:flex;align-items:center;justify-content:space-between}
.header .title{font-weight:800;font-size:18px}
.header .actions .icon{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:var(--secondary-bg);}

/* Tabs & Hamburger */
.tabs{display:flex;align-items:center;gap:10px;margin-top:6px}
.tabs .bar{display:flex;gap:8px;overflow:auto;padding:6px}
.tabs .bar button{padding:8px 12px;border-radius:10px;border:1px solid var(--border);background:var(--tab-bg);font-weight:600}
.tabs .bar button.active{outline:2px solid var(--chip-border)}
.hamburger{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:var(--secondary-bg);font-weight:700;display:none}
.hide-mobile{display:flex}.show-mobile{display:none}
@media (max-width:820px){.hide-mobile{display:none}.show-mobile{display:inline-flex} .tabs .bar{display:none !important}}

/* Mobile bottom sheet */
.menu-panel{position:fixed;inset:0;z-index:9999}
.menu-panel[hidden]{display:none}
.menu-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px)}
.menu-sheet{position:absolute;left:0;right:0;bottom:0;background:var(--card-bg);border-radius:16px 16px 0 0;
  box-shadow:0 -10px 30px rgba(0,0,0,.35);padding:14px;transform:translateY(100%);transition:transform .18s ease-out}
.menu-panel.open .menu-sheet{transform:translateY(0)}
.menu-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.menu-close{border:1px solid var(--border);background:var(--secondary-bg);border-radius:10px;padding:8px 10px}
.menu-items{display:grid;gap:8px}
.menu-items button{padding:12px;border-radius:12px;border:1px solid var(--border);background:var(--tab-bg);font-weight:700;text-align:left;display:flex;align-items:center;gap:12px;color:var(--fg)}

/* Inputs & Buttons */
label{display:grid;gap:6px;margin:8px 0}
input,textarea,button{font:inherit}
input,textarea{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:var(--card-bg);color:var(--fg)}
textarea{min-height:88px;resize:vertical}
button{padding:10px 14px;border:0;border-radius:10px;background:var(--btn-bg);color:var(--btn-fg);font-weight:700}
button.secondary{background:var(--secondary-bg);color:var(--fg);border:1px solid var(--border)}
button.ghost{background:transparent;color:var(--fg);border:1px dashed var(--border)}
button.danger{background:#dc2626;color:#fff}
.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;min-width:0}
.row.between{justify-content:space-between}
.row.gap{gap:8px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:12px}
.grid .full{grid-column:1 / -1}
@media (max-width:720px){.grid-2,.grid{grid-template-columns:1fr}.row.between{flex-direction:column;align-items:stretch;gap:12px}}

/* Searchbar */
.searchbar{flex:1;min-width:0}.searchbar input{width:100%;min-width:0}
body.locked .searchbar{display:none}

/* List entries */
.list{display:grid;gap:12px}
.entry{position:relative;border-left:6px solid var(--border);padding-left:10px;border-radius:12px;background:linear-gradient( to bottom, var(--entry-alt), transparent 160px) }
.entry::before{content:'';position:absolute;left:0;top:0;bottom:0;width:6px;background:var(--stripe);border-radius:12px 0 0 12px}
.entry-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:6px}
.entry-title{font-weight:800;font-size:16px}
.badges{display:flex;gap:6px;flex-wrap:wrap}
.badge{background:var(--badge-bg);padding:4px 8px;border-radius:999px;font-size:12px}
.badge.bad{background:#fee2e2;color:#991b1b}
.badge.muted{opacity:.7}
.badge a{color:inherit;text-decoration:none}

/* Meter */
.meter{margin-top:8px}
.meter .bar{height:8px;background:var(--secondary-bg);border-radius:99px;overflow:hidden;border:1px solid var(--border)}
.meter .bar > span{display:block;height:100%;width:0;background:linear-gradient(90deg,#ef4444,#f59e0b,#84cc16,#22c55e);transition:width .2s}
.meter .label{font-size:12px;color:var(--muted);margin-top:4px}

/* Chips (filters) */
.filters{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
.chip{background:var(--chip-bg);color:var(--chip-fg);border:1px solid var(--chip-border);padding:6px 10px;border-radius:999px}
.chip.active{outline:2px solid var(--chip-border)}

/* Audit */
.audit .audit-item{border:1px solid var(--border);border-left:4px solid var(--border);padding:10px;border-radius:10px;margin:8px 0;background:var(--card-bg)}
.audit .audit-item.bad{border-left-color:#ef4444;background:rgba(239,68,68,.05)}
.audit .audit-item.warn{border-left-color:#f59e0b;background:rgba(245,158,11,.05)}
.audit .audit-item.good{border-left-color:#22c55e;background:rgba(34,197,94,.05)}

/* Privacy mask */
.privacy-mask{position:fixed;inset:0;z-index:10000;background:rgba(10,12,16,.65);backdrop-filter:blur(10px) saturate(60%)}
.privacy-mask::after{content:'üîê';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:34px;opacity:.9}
html.masked .wrap{filter:blur(16px) brightness(0.7);transition:none}
#menuPanel[hidden], .privacy-mask[hidden], #lockSnack[hidden]{display:none !important}
html:not(.masked) .privacy-mask{pointer-events:none}

/* Snackbar */
.snackbar{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:var(--card-bg);color:var(--fg);
  border:1px solid var(--border);padding:10px 12px;border-radius:12px;box-shadow:var(--shadow);display:flex;gap:12px;align-items:center;z-index:10050;max-width:calc(100vw - 32px)}
.snackbar button{margin-left:6px}

/* History */
.pw-hist{margin-top:8px}
.pw-hist summary{cursor:pointer;color:var(--muted)}
.pw-hist .row{margin-top:6px}
.pw-hist input.hist{flex:1;min-width:0}

/* Neon akcent dla pola Tytu≈Ç */
.entry input[data-field="title"]{
  border:1px solid color-mix(in srgb, var(--accent) 60%, var(--border));
  background:
    radial-gradient(120px 60px at 25% 0%, color-mix(in srgb, var(--accent) 25%, transparent) 0%, transparent 60%),
    radial-gradient(120px 60px at 75% 100%, color-mix(in srgb, var(--accent) 22%, transparent) 0%, transparent 60%),
    var(--card-bg);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--accent) 35%, transparent) inset,
    0 0 20px color-mix(in srgb, var(--accent) 40%, transparent);
}
/* --- Responsive FIX --- */
*,*::before,*::after{box-sizing:border-box}
html,body{max-width:100%;overflow-x:hidden}

.wrap{
  width:min(980px,100%);
  margin:0 auto;
  padding-left:max(16px, env(safe-area-inset-left));
  padding-right:max(16px, env(safe-area-inset-right));
  padding-top:16px;
  padding-bottom:16px;
}

.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;min-width:0}
.row.between{justify-content:space-between}

.searchbar{flex:1;min-width:0}
.searchbar input{width:100%;min-width:0}

.grid{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:12px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}

@media (max-width:720px){
  .grid,.grid-2{grid-template-columns:1fr}
  .row.between{flex-direction:column;align-items:stretch;gap:12px}
}

/* ≈ºeby nic nie ‚Äûwystawa≈Ço‚Äù z kart */
.entry{overflow:hidden}

/* snackbar nie wychodzi poza ekran */
.snackbar{max-width:calc(100vw - 32px)}
/* je≈õli u≈ºywasz banera ‚Äî dopilnuj, by siƒô chowa≈Ç */
.snackbar[hidden]{display:none !important}